<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual Técnico: Bases de Datos e Implantación</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Variables de Diseño (Estilo Empresarial Moderno) --- */
        :root {
            --primary-dark: #1e293b;    /* Azul Pizarra Oscuro */
            --primary-brand: #3b82f6;   /* Azul Corporativo */
            --bg-sidebar: #f8fafc;      /* Gris muy claro */
            --bg-content: #ffffff;      /* Blanco */
            --text-main: #334155;       /* Gris texto */
            --text-headings: #0f172a;   /* Negro azulado */
            --border-color: #e2e8f0;
            --accent-success: #10b981;
            --accent-warning: #f59e0b;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
        }

        /* --- Reset & Base --- */
        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-content);
            color: var(--text-main);
            margin: 0;
            line-height: 1.6;
            display: flex;
            min-height: 100vh;
        }

        /* --- Sidebar de Navegación (Sticky) --- */
        aside {
            width: 280px;
            background-color: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            height: 100vh;
            position: sticky;
            top: 0;
            overflow-y: auto;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .brand-area {
            padding: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .brand-area h2 {
            margin: 0;
            font-size: 1.1rem;
            color: var(--primary-dark);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .brand-area span {
            font-size: 0.8rem;
            color: var(--primary-brand);
            font-weight: 600;
        }

        nav {
            padding: 1.5rem 1rem;
            flex-grow: 1;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        nav li { margin-bottom: 0.25rem; }

        nav a {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            color: var(--text-main);
            text-decoration: none;
            font-size: 0.9rem;
            border-radius: 6px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 3px solid transparent;
        }

        nav a:hover {
            background-color: #eef2ff;
            color: var(--primary-brand);
            transform: translateX(4px);
        }

        nav a.active {
            background-color: #dbeafe;
            color: var(--primary-brand);
            border-left-color: var(--primary-brand);
            font-weight: 600;
        }

        .sidebar-footer {
            padding: 1.5rem;
            font-size: 0.75rem;
            color: #94a3b8;
            border-top: 1px solid var(--border-color);
            text-align: center;
        }

        /* --- Contenido Principal --- */
        main {
            flex-grow: 1;
            padding: 4rem 6rem;
            max-width: 1200px; /* Lectura cómoda */
        }

        /* Tipografía y Elementos */
        h1 {
            font-size: 2.5rem;
            color: var(--text-headings);
            margin-bottom: 0.5rem;
            letter-spacing: -1px;
        }

        .lead {
            font-size: 1.2rem;
            color: #64748b;
            margin-bottom: 4rem;
            max-width: 800px;
        }

        section {
            margin-bottom: 5rem;
            scroll-margin-top: 2rem; /* Espacio al hacer scroll con ancla */
        }

        h2 {
            font-size: 1.75rem;
            color: var(--primary-dark);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            font-size: 1.25rem;
            color: var(--text-headings);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        p { margin-bottom: 1rem; color: #475569; }

        /* Tablas Profesionales */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: white;
            box-shadow: var(--shadow-sm);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        .data-table th {
            background-color: var(--primary-dark);
            color: white;
            text-align: left;
            padding: 1rem;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.95rem;
        }
        .data-table tr:last-child td { border-bottom: none; }
        .data-table tr:hover { background-color: #f8fafc; }

        /* Bloques de Código (Terminal style) */
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            border-left: 4px solid var(--primary-brand);
            box-shadow: var(--shadow-md);
        }
        .code-comment { color: #94a3b8; font-style: italic; }
        .code-keyword { color: #c084fc; }
        .code-string { color: #4ade80; }

        /* Tarjetas de Conceptos */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary-brand);
        }
        .card h4 { margin-top: 0; color: var(--primary-brand); }

        /* Alertas / Notas */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 6px;
            margin: 2rem 0;
            font-size: 0.95rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }
        .alert-info {
            background-color: #eff6ff;
            color: #1e40af;
            border: 1px solid #dbeafe;
        }
        .alert-warning {
            background-color: #fff7ed;
            color: #9a3412;
            border: 1px solid #ffedd5;
        }

        /* Responsive */
        @media (max-width: 900px) {
            body { flex-direction: column; }
            aside { 
                width: 100%; 
                height: auto; 
                position: relative; 
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            nav ul { 
                display: flex; 
                overflow-x: auto; 
                padding-bottom: 0.5rem;
            }
            nav a { white-space: nowrap; }
            main { padding: 2rem; }
            .card-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- SIDEBAR FIJO -->
    <aside>
        <div class="brand-area">
            <h2>SysAdmin<br><span>Manual v2.0</span></h2>
        </div>
        <nav>
            <ul>
                <li><a href="#intro">1. Introducción y Ciclo</a></li>
                <li><a href="#diseno-logico">2. Diseño Lógico (E-R)</a></li>
                <li><a href="#normalizacion">3. Normalización</a></li>
                <li><a href="#seleccion-sgbd">4. Selección de SGBD</a></li>
                <li><a href="#seguridad">5. Seguridad y Usuarios</a></li>
                <li><a href="#respaldos">6. Estrategias de Backup</a></li>
                <li><a href="#optimizacion">7. Optimización</a></li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            &copy; 2025 Dept. Implantación
        </div>
    </aside>

    <!-- CONTENIDO PRINCIPAL -->
    <main>
        <header>
            <h1>Implantación de Bases de Datos</h1>
            <p class="lead">Guía integral para el diseño, despliegue y administración de sistemas de almacenamiento de datos en entornos corporativos.</p>
        </header>

        <!-- SECCIÓN 1: INTRODUCCIÓN -->
        <section id="intro">
            <h2>1. Ciclo de Vida en la Implantación</h2>
            <p>La implantación de una base de datos no es un evento aislado, sino un proceso continuo integrado en el desarrollo del software.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h4>1. Análisis de Requisitos</h4>
                    <p>Recopilación de reglas de negocio. ¿Qué datos necesitamos? ¿Quién los usará? ¿Con qué frecuencia?</p>
                </div>
                <div class="card">
                    <h4>2. Diseño (Conceptual/Lógico)</h4>
                    <p>Creación de esquemas independientes de la tecnología. Diagramas E-R y diccionarios de datos.</p>
                </div>
                <div class="card">
                    <h4>3. Implementación Física</h4>
                    <p>Instalación del SGBD, configuración de discos, memoria y creación de tablas con SQL (DDL).</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN 2: DISEÑO LÓGICO -->
        <section id="diseno-logico">
            <h2>2. Diseño Lógico y Diagramas E-R</h2>
            <p>El modelo Entidad-Relación es el estándar para visualizar la estructura de datos antes de escribir código.</p>
            
            

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Concepto</th>
                        <th>Descripción</th>
                        <th>Cardinalidad Típica</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Relación 1:1</strong></td>
                        <td>Un registro se asocia con uno solo en otra tabla.</td>
                        <td>Empleado - Credencial de Acceso</td>
                    </tr>
                    <tr>
                        <td><strong>Relación 1:N</strong></td>
                        <td>Un registro padre tiene muchos hijos.</td>
                        <td>Cliente - Pedidos</td>
                    </tr>
                    <tr>
                        <td><strong>Relación N:M</strong></td>
                        <td>Muchos contra muchos. Requiere una <em>tabla intermedia</em>.</td>
                        <td>Estudiantes - Asignaturas</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- SECCIÓN 3: NORMALIZACIÓN -->
        <section id="normalizacion">
            <h2>3. Normalización</h2>
            <p>Proceso crítico para reducir la redundancia y evitar anomalías en la actualización de datos. En implantación, el objetivo estándar es la <strong>3FN</strong>.</p>

            <div class="alert alert-info">
                <strong>Regla de Oro:</strong> Una base de datos mal normalizada será rápida al principio, pero insostenible a largo plazo debido a datos duplicados e inconsistentes.
            </div>

            <h3>Formas Normales Esenciales</h3>
            <ul>
                <li><strong>1FN:</strong> Eliminar grupos repetidos. Cada celda debe ser atómica.</li>
                <li><strong>2FN:</strong> Eliminar dependencias parciales (todo atributo no clave debe depender de la clave primaria completa).</li>
                <li><strong>3FN:</strong> Eliminar dependencias transitivas (atributos no clave que dependen de otros atributos no clave).</li>
            </ul>
        </section>

        <!-- SECCIÓN 4: SELECCIÓN SGBD -->
        <section id="seleccion-sgbd">
            <h2>4. Selección del SGBD</h2>
            <p>Factores a considerar durante la implantación: Costo de licencia, soporte técnico, comunidad y escalabilidad.</p>

            <div class="card-grid">
                <div class="card">
                    <h4>PostgreSQL</h4>
                    <p><strong>Tipo:</strong> Relacional (ORDBMS)<br>Ideal para sistemas complejos, GIS y alta concurrencia. Open Source robusto.</p>
                </div>
                <div class="card">
                    <h4>MySQL / MariaDB</h4>
                    <p><strong>Tipo:</strong> Relacional<br>Estándar para aplicaciones web. Muy rápido en lecturas, fácil de replicar.</p>
                </div>
                <div class="card">
                    <h4>MongoDB</h4>
                    <p><strong>Tipo:</strong> NoSQL (Documental)<br>Esquema flexible (JSON). Perfecto para catálogos dinámicos o Big Data.</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN 5: SEGURIDAD (NUEVO) -->
        <section id="seguridad">
            <h2>5. Seguridad y Gestión de Usuarios (DCL)</h2>
            <p>La seguridad es una capa fundamental en la implantación. Se maneja mediante el lenguaje DCL (Data Control Language).</p>
            
            <h3>Principio de Menor Privilegio</h3>
            <p>Nunca usar el usuario <code>root</code> para la aplicación. Se deben crear usuarios con permisos específicos.</p>

            <div class="code-block">
                <span class="code-comment">-- 1. Crear un rol para la aplicación</span><br>
                <span class="code-keyword">CREATE USER</span> 'app_ventas'@'192.168.1.50' <span class="code-keyword">IDENTIFIED BY</span> 'SecureP@ssw0rd!';<br><br>
                
                <span class="code-comment">-- 2. Asignar permisos solo necesarios (CRUD básico)</span><br>
                <span class="code-keyword">GRANT SELECT, INSERT, UPDATE</span> <span class="code-keyword">ON</span> tienda.pedidos <span class="code-keyword">TO</span> 'app_ventas';<br><br>
                
                <span class="code-comment">-- 3. Aplicar cambios</span><br>
                <span class="code-keyword">FLUSH PRIVILEGES</span>;
            </div>

            <div class="alert alert-warning">
                <strong>Seguridad Física:</strong> Además de SQL, asegúrate de que el puerto de la base de datos (ej. 3306, 5432) no esté expuesto directamente a internet, sino solo a la red interna o VPN.
            </div>
        </section>

        <!-- SECCIÓN 6: RESPALDOS (NUEVO) -->
        <section id="respaldos">
            <h2>6. Estrategias de Backup</h2>
            <p>Un sistema sin plan de recuperación ante desastres (Disaster Recovery) es un sistema incompleto. Tipos de respaldos:</p>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Descripción</th>
                        <th>Ventaja/Desventaja</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Completo (Full)</strong></td>
                        <td>Copia todo el contenido de la BD.</td>
                        <td>Recuperación rápida / Lento de generar, ocupa mucho espacio.</td>
                    </tr>
                    <tr>
                        <td><strong>Incremental</strong></td>
                        <td>Copia solo lo que cambió desde el último respaldo (cualquiera).</td>
                        <td>Muy rápido de hacer / Lento de restaurar (requiere secuencia completa).</td>
                    </tr>
                    <tr>
                        <td><strong>Diferencial</strong></td>
                        <td>Copia todo lo que cambió desde el último respaldo <em>completo</em>.</td>
                        <td>Equilibrio entre velocidad de copia y restauración.</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- SECCIÓN 7: OPTIMIZACIÓN (NUEVO) -->
        <section id="optimizacion">
            <h2>7. Optimización e Índices</h2>
            <p>Cuando el sistema crece, las consultas se vuelven lentas. La solución principal es el uso correcto de <strong>Índices</strong>.</p>
            
            <h3>¿Qué es un Índice?</h3>
            <p>Es una estructura de datos (generalmente B-Tree) que mejora la velocidad de recuperación de datos a costa de ralentizar ligeramente las escrituras (INSERT/UPDATE).</p>

            <div class="code-block">
                <span class="code-comment">-- Ejemplo: Crear índice para búsquedas por email</span><br>
                <span class="code-keyword">CREATE INDEX</span> idx_cliente_email <span class="code-keyword">ON</span> Clientes(email);<br><br>
                
                <span class="code-comment">-- Análisis de consulta (Query Plan)</span><br>
                <span class="code-keyword">EXPLAIN SELECT</span> * <span class="code-keyword">FROM</span> Clientes <span class="code-keyword">WHERE</span> email = 'user@empresa.com';
            </div>
        </section>

    </main>

    <script>
        // Script simple para resaltar el link activo en el sidebar al hacer scroll
        const sections = document.querySelectorAll('section');
        const navLi = document.querySelectorAll('aside nav ul li a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= (sectionTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navLi.forEach(a => {
                a.classList.remove('active');
                if (a.getAttribute('href').includes(current)) {
                    if(current !== '') a.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>